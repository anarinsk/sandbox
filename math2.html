<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
</head>
<body>
<p>Add mathjax script right into the markdown file like so:</p>
<pre class="sourceCode html"><code class="sourceCode html"><span class="co">&lt;!-- Equations using MathJax --&gt;</span>
<span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="ot"> src=</span><span class="st">&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;</span><span class="kw">&gt;&lt;/script&gt;</span>
<span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/x-mathjax-config&quot;</span><span class="kw">&gt;</span> <span class="kw">MathJax.Hub</span>.<span class="fu">Config</span>({ <span class="dt">TeX</span>: { <span class="dt">equationNumbers</span>: {<span class="dt">autoNumber</span>: <span class="st">&quot;all&quot;</span>} } });       <span class="kw">&lt;/script&gt;</span></code></pre>
<!-- Equations using MathJax -->
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "all"} } });       </script>


<p>Add knitr block into the markdown file.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> + <span class="dv">1</span></code></pre>
<pre><code>## [1] 2</code></pre>
<p>Display equations by delimiting with <code>&lt;div&gt;$$</code></p>
<div>
<br /><span class="math">$  J_\alpha(x) = \sum\limits_{m=0}^\infty \frac{(-1)^m}{m! \, \Gamma(m + \alpha + 1)}{\left({\frac{x}{2}}\right)}^{2 m + \alpha} $</span><br />
</div>

<p>And inline equations with <code>&lt;span&gt;$</code>, like <span><span class="math"><em>e</em> = <em>m</em><em>c</em><sup>2</sup></span></span></p>
<h3 id="now-the-following-works">Now the following works:</h3>
<ul>
<li>Pandoc generated latex: <code>pandoc -s math.md -o math.tex</code>.<br /></li>
<li>The Markdown file will be converted to valid html by almost any markdown converter, which ignores the div/span elements. The mathjax script added in the top will cause these to display correctly. (Note this works for the inline equation too, even though <a href="http://www.mathjax.org/docs/2.0/start.html#tex-and-latex-input">mathjax says it shouldn't</a>?)</li>
<li>To get pandoc to run in this mode without touching the math syntax, use <code>--strict</code> option: <code>pandoc -s --strict math.md -o math.html</code></li>
<li>Pandoc can handle the mathjax rendering itself, since without <code>strict</code> enabled, it reads inside the div/span elements and finds math syntax it recognizes. as does <code>pandoc -s --mathjax math.md -o math3.html</code>. Likewise for mathml: <code>pandoc -s --mathml -o math4.html</code>.</li>
<li>Simple html works too, though has no rendering engine: <code>pandoc -s math.md -o math2.html</code> so the result is not displayed properly.</li>
</ul>
<h3 id="see-results">See results</h3>
<ul>
<li><a href="https://github.com/cboettig/sandbox/blob/master/math.md">math.md</a></li>
<li><a href="https://github.com/cboettig/sandbox/blob/master/math.tex">math.tex</a></li>
<li>Pandoc strict (or most markdown intepreters): <a href="http://cboettig.github.com/sandbox/math3.html">math.html</a></li>
<li>Pandoc mathjax: <a href="http://cboettig.github.com/sandbox/math3.html">math3.html</a></li>
<li>mathml: <a href="http://cboettig.github.com/sandbox/math4.html">math4.html</a></li>
<li>Pandoc's plain html: <a href="http://cboettig.github.com/sandbox/math2.html">math2.html</a></li>
<li>Giving jekyll a copy of math.md, it creates <a href="http://cboettig.github.com/sandbox/math-jekyll.html">math-jekyll.html</a></li>
</ul>
</body>
</html>
